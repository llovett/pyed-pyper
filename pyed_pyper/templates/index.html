{% extends "base.html" %}

{% block scripts %}
<script type="text/javascript" src="/static/js/jplayer/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="/static/js/jplayer/add-on/jplayer.playlist.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    // initialize jplayer playlist
    var playQueue = new jPlayerPlaylist({
        jPlayer: "#jquery_jplayer_1",
        cssSelectorAncestor: "#jp_container_1"
    }, [ /* empty playlist initially */ ], {
        playlistOptions: {
            enableRemoveControls: true
        },
        swfPath: "/static/js/jplayer",
        supplied: "m4a",
        smoothPlayBar: true
    });

    // demo songs
    var testSongs = [
        {
            title: "Strobe",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/10 Strobe.m4a"
        },
        {
            title: "The 16th Hour",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/09 The 16th Hour.m4a"
        },
        {
            title: "Lack Of A Better Name.m4a",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/08 Lack Of A Better Name.m4a"
        },
        {
            title: "Soma.m4a",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/07 Soma.m4a"
        },
        {
            title: "Word Problems.m4a",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/06 Word Problems.m4a"
        },
        {
            title: "05 Bot.m4a",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/05 Bot.m4a"
        },
        {
            title: "Moar Ghosts 'n' Stuff.m4a",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/02 Moar Ghosts 'n' Stuff.m4a"
        },
        {
            title: "FML.m4a",
            artist: "Deadmau5",
            m4a: "/static/audio/Deadmau5/For Lack Of A Better Name/01 FML.m4a"
        }
    ];

    // Just add songs to the queue one-by-one for now
    var songIndex = 0;
    $("#add-button").click(function(event) {
        event.preventDefault();
        playQueue.add(testSongs[songIndex]);
        songIndex = (songIndex+1)%testSongs.length;
    });
});
</script>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="/static/css/jplayer/jplayer.blue.monday.css" type="text/css" media="screen" />
{% endblock %}

{% block content %}
<div id="content">
  <!-- selection interface -->
  <div id="selection">

  </div>

  <!-- for demo only -->
  <input type="button" name="add-button" value="add Deadmau5 song" id="add-button" />

  <!-- jplayer -->
  <div id="jquery_jplayer_1" class="jp-player">
  </div>
  <div id="jp_container_1" class="jp-audio">
    <div class="jp-type-single">
      <div class="jp-gui jp-interface">
        <ul class="jp-controls">
          <li><a href="javascript:;" class="jp-play" tabindex="1">play</a></li>
          <li><a href="javascript:;" class="jp-pause" tabindex="1">pause</a></li>
          <li><a href="javascript:;" class="jp-stop" tabindex="1">stop</a></li>
          <li><a href="javascript:;" class="jp-mute" tabindex="1" title="mute">mute</a></li>
          <li><a href="javascript:;" class="jp-unmute" tabindex="1" title="unmute">unmute</a></li>
          <li><a href="javascript:;" class="jp-volume-max" tabindex="1" title="max volume">max volume</a></li>
        </ul>
        <div class="jp-progress">
          <div class="jp-seek-bar">
            <div class="jp-play-bar"></div>
          </div>
        </div>
        <div class="jp-volume-bar">
          <div class="jp-volume-bar-value"></div>
        </div>
        <div class="jp-time-holder">
          <div class="jp-current-time"></div>
          <div class="jp-duration"></div>
          <ul class="jp-toggles">
            <li><a href="javascript:;" class="jp-repeat" tabindex="1" title="repeat">repeat</a></li>
            <li><a href="javascript:;" class="jp-repeat-off" tabindex="1" title="repeat off">repeat off</a></li>
          </ul>
        </div>
      </div>
      <div class="jp-title">
        <ul>
          <li>Bubble</li>
        </ul>
      </div>
      <div class="jp-no-solution">
        <span>Update Required</span>
        To play the media you will need to either update your browser to a recent version or update your <a href="http://get.adobe.com/flashplayer/" target="_blank">Flash plugin</a>.
      </div>
    </div>

    <!-- jplayer playlist addon -->
    <div class="jp-playlist">
      <ul>
        <li></li>
      </ul>
    </div>
  </div>
</div>
{% endblock %}
